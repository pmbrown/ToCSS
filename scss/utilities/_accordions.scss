//  ------------------------------------------------------------
//  Details element
//  ------------------------------------------------------------

@if $enable-accordions and $enable-icon-svg {

:where(html) {
  --summary-text: var(--text);
  --summary-bg: var(--surf-1);
  --summary-ico: var(--summary-text);
  --summary-block: .5rem;
  --details-block: .75rem;
  --details-inline: .75rem;
  --details-border-color: var(--surf-2);
  --details-border-width: 1px;
  --details-border-radius: .125em; 
  --details-max-width: initial;
  --details-open: var(--arrowdown);
  --details-closed: var(--arrowup);
}

.details, .accordion {
  max-inline-size: var(--details-max-width);
}

.accordion details {
  margin-block-end: 0;
}

:where(.details, .accordion) summary {
  --ico: var(--summary-ico);
  color: var(--summary-text);
  font-weight: 600;
  display: flex;
  padding-block: var(--summary-block);
  padding-inline: var(--details-inline);
  border: var(--details-border-width) solid var(--details-border-color);
  border-radius: var(--details-border-radius);
  background-color: var(--summary-bg);
}

.accordion summary {
  border-radius: 0; 
}

.accordion details:not(:first-child) summary {
  border-block-start: none;
}

.accordion details:first-child summary {
  border-start-start-radius: var(--details-border-radius);
  border-start-end-radius: var(--details-border-radius);
}

.accordion details:last-child summary {
  border-end-start-radius: var(--details-border-radius);
  border-end-end-radius: var(--details-border-radius);
}

:where(.details[open], .accordion [open]) summary {
  margin-block-end: 0;
  border-block-end: var(--details-border-width) solid var(--details-border-color);
  border-end-start-radius: 0;
  border-end-end-radius: 0;
}

.accordion details[open]:last-child summary {
  border-end-start-radius: 0;
  border-end-end-radius: 0;
}

// Body
.details-body {
  padding-block: var(--details-block);
  padding-inline: var(--details-inline);
  border: var(--details-border-width) solid var(--details-border-color);
  border-block-start: none;
  border-radius: var(--details-border-radius);
  border-start-start-radius: 0;
  border-start-end-radius: 0;
}

.accordion .details-body {
  border-radius: 0;
}

.accordion details:last-child[open] .details-body {
  border-end-start-radius: var(--details-border-radius);
  border-end-end-radius: var(--details-border-radius);
}

.details-body :last-child {
  --mb: 0;
}

// Icons
.details summary:after, .accordion summary:after {
  --ico: var(--summary-ico);
  @include icon-mask;
  margin-inline-start: auto;
  margin-block-start: calc(var(--fs) / 4);
}


.details summary:after, .accordion summary:after {
  --svg: var(--details-open);
}

.details[open] summary:after, .accordion details[open] summary:after {
  --svg: var(--details-closed);
}

@if $enable-primary-colors {

.details-blue {
  --summary-text: #fff;
  --summary-ico: #fff;
  --summary-bg: var(--blue);
  --details-border-color: hsl(var(--blue-hs) 38%);
}

.details-red {
  --summary-text: #fff;
  --summary-ico: #fff;
  --summary-bg: var(--red);
  --details-border-color: hsl(var(--red-hs) 42%);
}

.details-green {
  --summary-text: #fff;
  --summary-ico: #fff;
  --summary-bg: var(--green);
  --details-border-color: hsl(var(--green-hs) 30%);
}

.details-orange {
  --summary-text: #000;
  --summary-ico: #000;
  --summary-bg: var(--orange);
  --details-border-color: hsl(var(--orange-hs) 48%);
}

.details-cyan {
  --summary-text: #000;
  --summary-ico: #000;
  --summary-bg: var(--cyan);
  --details-border-color: hsl(var(--cyan-hs) 35%);
}

} // END [@if/primary-colors]

@if $enable-scheme-colors {

.details-light {
  --summary-text: #000;
  --summary-ico: #000;
  --summary-bg: var(--surf-1-light);
  --details-border-color: var(--surf-3-light);
}

.details-dark {
  --summary-text: #fff;
  --summary-ico: #fff;
  --summary-bg: var(--surf-1-dark);
  --details-border-color: var(--surf-3-dark);
}

} // END [@if/scheme-colors]

} // END [@if/details]